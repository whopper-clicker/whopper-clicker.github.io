System.register("chunks:///_virtual/AudioBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(t){var n,o,e,u,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,u=t.Button,i=t.Component},function(t){r=t.default}],execute:function(){var c;o._RF.push({},"efb25UDWWZMSaFTvl6jahsl","AudioBtn",void 0);var s=e.ccclass;e.property,t("AudioBtn",s("AudioBtn")(c=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o.prototype.start=function(){this.getComponent(u).node.on(u.EventType.CLICK,(function(){r.toggleBGM(),r.toggleSFX()}),this)},o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var i,t,o,n,r,l,a,s,u,c,f,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.AudioSource,s=e.AudioClip,u=e.director,c=e.log,f=e.Component},function(e){p=e.default}],execute:function(){var h,x,y,g,b,d,S,C,m,k,v,z,M,B,w,A,O,T,D,_;r._RF.push({},"9bbc3CY1uVG55mk9ofqBfj4","AudioManager",void 0);var L=l.ccclass,P=l.property;e("AudioManager",(h=L("AudioManager"),x=P(a),y=P(a),g=P({group:"sfx-clips",type:s}),b=P({group:"sfx-clips",type:s}),d=P({group:"sfx-clips",type:s}),S=P({group:"sfx-clips",type:s}),C=P({group:"sfx-clips",type:[s]}),m=P({group:"sfx-clips",type:[s]}),h(((_=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=e.call.apply(e,[this].concat(r))||this,o(i,"bgmSource",z,n(i)),o(i,"sfxSource",M,n(i)),o(i,"sfxClick",B,n(i)),o(i,"sfxClickBack",w,n(i)),o(i,"sfxScore",A,n(i)),o(i,"sfxBell",O,n(i)),o(i,"sfxCoinToss",T,n(i)),o(i,"sfxCoinCollides",D,n(i)),i}t(i,e);var r=i.prototype;return r.onLoad=function(){u.addPersistRootNode(this.node),i.instance=this},r.init=function(){c("AudioManager initialized"),this.updateSettings(),this.bgmSource.play()},r.updateSettings=function(){this.bgmSource.volume=p.playerData.bgm?.5:0,this.sfxSource.volume=p.playerData.sfx?1:0},r.playClick=function(){this.sfxSource.playOneShot(this.sfxClick,1)},r.playClickBack=function(){this.sfxSource.playOneShot(this.sfxClickBack,1)},r.playScore=function(){this.sfxSource.playOneShot(this.sfxScore,1)},r.playCoinToss=function(){var e=Math.floor(Math.random()*this.sfxCoinToss.length);this.sfxSource.playOneShot(this.sfxCoinToss[e],1)},r.playCoinCollide=function(){var e=Math.floor(Math.random()*this.sfxCoinCollides.length);this.sfxSource.playOneShot(this.sfxCoinCollides[e],1)},r.playBell=function(){this.sfxSource.playOneShot(this.sfxBell,.3)},i}(f)).instance=null,z=i((v=_).prototype,"bgmSource",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(v.prototype,"sfxSource",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(v.prototype,"sfxClick",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(v.prototype,"sfxClickBack",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(v.prototype,"sfxScore",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(v.prototype,"sfxBell",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(v.prototype,"sfxCoinToss",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=i(v.prototype,"sfxCoinCollides",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=v))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/BellBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var e,n,i,l,a,r,o,u,c,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,o=t.Sprite,u=t.Button,c=t.log,s=t.Component},function(t){p=t.AudioManager}],execute:function(){var d,y,h,f,b;a._RF.push({},"517ccG2KSZAUYGLd1Zqb51/","BellBtn",void 0);var g=r.ccclass,v=r.property;t("BellBtn",(d=g("BellBtn"),y=v(o),d((b=e((f=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"delayOverlay",b,l(e)),e.button=null,e.delay=0,e.DELAY_TIME=30,e}n(e,t);var a=e.prototype;return a.construct=function(t){var e=this,n=this.getComponent(u);n&&(n.node.on(u.EventType.CLICK,(function(){var i;c("click bell btn"),e.delay>0||(e.delay=e.DELAY_TIME,t.handleRingingBell(),n.interactable=!1,null==(i=p.instance)||i.playBell())}),this),this.updateView())},a.update=function(t){this.delay<=0||(this.delay-=t,this.updateView())},a.updateView=function(){this.delayOverlay.fillRange=this.delay/this.DELAY_TIME,this.delay<=0&&(null==this.button&&(this.button=this.getComponent(u)),this.button.interactable=!0)},e}(s)).prototype,"delayOverlay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/Bootstrap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./AudioManager.ts","./SpritesGallery.ts"],(function(r){var e,t,s,n,o,a,i,c,p,u,l,g,f,d,h;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,s=r.initializerDefineProperty,n=r.assertThisInitialized,o=r.asyncToGenerator,a=r.regeneratorRuntime},function(r){i=r.cclegacy,c=r._decorator,p=r.ProgressBar,u=r.Component,l=r.director,g=r.log},function(r){f=r.default},function(r){d=r.AudioManager},function(r){h=r.SpritesGallery}],execute:function(){var v,y,B,m,S;i._RF.push({},"d8ad2/KQL5PaqkFdGHv306N","Bootstrap",void 0);var w=c.ccclass,b=c.property;r("Bootstrap",(v=w("Bootstrap"),y=b(p),v((S=e((m=function(r){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=r.call.apply(r,[this].concat(o))||this,s(e,"progressBar",S,n(e)),e}t(e,r);var i=e.prototype;return i.start=function(){var r=this,e=new CustomEvent("bootstraper-started");window.dispatchEvent(e),f.init((function(){var e;null==(e=d.instance)||e.init(),r.startProcess()}))},i.startProcess=function(){var r=o(a().mark((function r(){var e,t,s=this;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=function(r,e){e<=0&&(e=1),s.progressBar.progress=r/e},this.progressBar.progress=0,r.next=4,h.instance.loadSprites("coins",e);case 4:return this.progressBar.progress=0,r.next=7,h.instance.loadSprites("capybara",e);case 7:return this.progressBar.progress=0,r.next=10,h.instance.loadSprites("stats",e);case 10:this.progressBar.progress=0,t="game-scene",l.preloadScene(t,(function(r){(r/=100)>=0&&r<=1&&(s.progressBar.progress=r)}),(function(r){null==r&&(s.progressBar.progress=1,g("Home scene preloaded successfully."),s.scheduleOnce((function(){l.loadScene(t)}),.3))}));case 13:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),e}(u)).prototype,"progressBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=m))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/Capybara.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./EventBus.ts","./SpritesGallery.ts"],(function(t){var e,a,i,s,n,r,l,o,h,d,u,p;return{setters:[function(t){e=t.inheritsLoose,a=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,s=t._decorator,n=t.Sprite,r=t.Vec3,l=t.tween,o=t.log,h=t.Component},function(t){d=t.default},function(t){u=t.eventBus},function(t){p=t.SpritesGallery}],execute:function(){var c;i._RF.push({},"b66ccVdUXFHbK3MvqhHA3Rj","Capybara",void 0);var g=s.ccclass;s.property,t("Capybara",g("Capybara")(c=function(t){function i(){for(var e,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).gameplayManager=null,e.target=null,e.state="idle",e.stateTimer=0,e.idleDuration=2,e.idleRetryDuration=1,e.stamina=100,e.sleepDuration=5,e.sprite=null,e.walktween=null,e.sleepTween=null,e}e(i,t);var s=i.prototype;return s.construct=function(t){this.gameplayManager=t,this.stamina=Math.floor(31*Math.random())+70,this.stateTimer=1.5*Math.random(),this.sprite=this.getComponent(n),this.updateView(),u.on("masteryUpgraded",this.handleMasteryUpgraded,this)},s.onDestroy=function(){u.off("masteryUpgraded",this.handleMasteryUpgraded,this)},s.handleMasteryUpgraded=function(){this.updateView()},s.updateView=function(){var t=this.sprite;if("sleep"==this.state){var e;t.spriteFrame=null==(e=p.instance)?void 0:e.getSpriteById("capy-sleep")}else{var a,i=d.getMasteryMaxGradeIndex();t.spriteFrame=null==(a=p.instance)?void 0:a.getSpriteById("capy-"+(i+1))}},s.getStamina=function(){return this.stamina},s.getCurrentState=function(){return this.state},s.changeTarget=function(){this.target=null,this.target=this.findRandomUntargetedCoin(),this.checkFlip()},s.updateStamina=function(t){t<this.stamina&&this.gameplayManager.isFrenzyActive()||(this.stamina=t)},s.update=function(t){if(this.gameplayManager)if(this.stateTimer+=t*(this.gameplayManager.isFrenzyActive()?2:1),"idle"===this.state){var e;if(this.stamina<=0)return this.state="sleep",this.stateTimer=0,null==(e=this.walktween)||e.stop(),this.node.setRotationFromEuler(r.ZERO),void this.updateView();if(this.stateTimer>=this.idleDuration)if(this.gameplayManager.coins.filter((function(t){return t.isReady&&!t.isFlipping})).length>0){var a=this.findRandomUntargetedCoin();a&&(this.target=a,this.target.setTargetedBy(this),this.state="walk",this.stateTimer=0,this.checkFlip(),this.walktween=l(this.sprite.node).to(.12,{eulerAngles:new r(0,0,-10)},{easing:"sineInOut"}).to(.12,{eulerAngles:new r(0,0,10)},{easing:"sineInOut"}).union().repeatForever().start())}else this.stateTimer=this.idleDuration-this.idleRetryDuration}else if("walk"===this.state){var i;if(this.updateStamina(Math.max(0,this.stamina-t)),!this.target)return this.state="idle",this.stateTimer=0,null==(i=this.walktween)||i.stop(),void this.node.setRotationFromEuler(r.ZERO);var s=200*(this.gameplayManager.isFrenzyActive()?2:1),n=this.node.position.clone(),h=this.target.node.position.clone().clone().subtract(n);if(h.length()<=20){var d,u,p;o("Capybara arrived at target:",null==(d=this.target)?void 0:d.node.name),null==(u=this.target)||u.tossAndFlip(),this.updateStamina(Math.max(0,this.stamina-3)),this.target=null,this.state="idle",this.stateTimer=0,null==(p=this.walktween)||p.stop(),this.node.setRotationFromEuler(r.ZERO),l(this.node).to(.1,{scale:new r(this.node.scale.x,1.2,1)},{easing:"quadOut"}).to(.1,{scale:new r(this.node.scale.x,1,1)},{easing:"quadIn"}).start()}else{var c=h.clone().normalize().multiplyScalar(s*t);this.node.setPosition(n.clone().add(c))}}else"sleep"===this.state&&null==this.sleepTween&&(o("play sleep tween"),this.sleepTween=l(this.node).to(.5,{scale:new r(this.node.scale.x,1.2,1)},{easing:"sineOut"}).to(.5,{scale:new r(this.node.scale.x,1,1)},{easing:"sineIn"}).union().repeatForever().start())},s.wakeUp=function(){var t;"sleep"==this.state&&(this.state="idle",this.stateTimer=1,this.updateStamina(100),o("Capybara woke up from sleep"),this.updateView(),null==(t=this.sleepTween)||t.stop(),this.sleepTween=null,l(this.node).to(.2,{scale:new r(this.node.scale.x,1.1,1)},{easing:"quadOut"}).to(.2,{scale:new r(this.node.scale.x,1,1)},{easing:"quadIn"}).start(),this.gameplayManager.taskManager.updateTasksProgress("WakeSleepingCoinMasters",1))},s.checkFlip=function(){this.target?this.sprite.node.setScale(this.target.node.worldPosition.x>this.node.worldPosition.x?-Math.abs(this.sprite.node.scale.x):Math.abs(this.sprite.node.scale.x),this.sprite.node.scale.y,this.sprite.node.scale.z):this.sprite.node.setScale(Math.abs(this.sprite.node.scale.x),this.sprite.node.scale.y,this.sprite.node.scale.z)},s.findRandomUntargetedCoin=function(){var t=d.getMasteryMaxGradeIndex(),e=this.gameplayManager.coins.filter((function(e){return e.isReady&&!e.isFlipping&&e.coinGradeIndex<=t})),a=e.filter((function(t){return!t.targeted})),i=null;a.length>0?i=a[Math.floor(Math.random()*a.length)]:i=e[Math.floor(Math.random()*e.length)];return i||null},s.findNearestCoin=function(t){if(!t||0===t.length)return null;for(var e,i=this.node.position.clone(),s=null,n=Number.POSITIVE_INFINITY,r=a(t);!(e=r()).done;){var l=e.value,o=i.subtract(l.node.position).lengthSqr();o<n&&(n=o,s=l)}return s},i}(h))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/CapySleep.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,c,p;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.tween,c=e.Vec3,p=e.Component}],execute:function(){var s;n._RF.push({},"13e3b9EqNNH17PFi/5bnVqE","CapySleep",void 0);var a=o.ccclass;o.property,e("CapySleep",a("CapySleep")(s=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.start=function(){r(this.node).to(1.5,{scale:new c(1,.9,1)}).to(1.5,{scale:new c(.9,1,1)}).union().repeatForever().start()},n}(p))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts","./SpritesGallery.ts","./AudioManager.ts"],(function(e){var t,a,i,n,r,s,o,l,d,p,c,g,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.Sprite,l=e.tween,d=e.Vec3,p=e.Component},function(e){c=e.Constant},function(e){g=e.default},function(e){u=e.SpritesGallery},function(e){h=e.AudioManager}],execute:function(){var y,m,M,f,S;r._RF.push({},"9c27fjUjSVMz5X8DW3y07wK","Coin",void 0);var v=s.ccclass,x=s.property;e("Coin",(y=v("Coin"),m=x(o),y((S=t((f=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"sprite",S,n(t)),t.gameplayManager=null,t.isReady=!1,t.isFlipping=!1,t.coinGradeIndex=-1,t.targeted=!1,t.targetedBy=null,t.originalScale=void 0,t.headSprite=null,t.tailSprite=null,t}a(t,e);var r=t.prototype;return r.construct=function(e,t){var a=this;this.gameplayManager=e,this.coinGradeIndex=t,this.originalScale=this.node.getScale().clone(),this.headSprite=u.instance.getSpriteById("coin-"+(this.coinGradeIndex+1)),this.tailSprite=u.instance.getSpriteById("coin-back-"+(this.coinGradeIndex+1)),this.sprite.spriteFrame=this.headSprite,this.node.setScale(0,0,0),l(this.node).to(.25,{scale:new d(1.1,1.1,1.1).multiply(this.originalScale)},{easing:"backOut"}).to(.1,{scale:new d(1,1,1).multiply(this.originalScale)},{easing:"sineIn"}).call((function(){a.isReady=!0})).start()},r.setTargetedBy=function(e){this.targeted=!0,this.targetedBy=e},r.tossAndFlip=function(e){var t,a=this;if(void 0===e&&(e=!1),this.isReady&&!(this.coinGradeIndex<0||this.isFlipping)){this.targetedBy&&(this.targetedBy.changeTarget(),this.targetedBy=null);var i=Math.random()<.5;e&&this.gameplayManager.isMidasActive()&&(i=!0);var n=this.node.position.clone(),r=n.clone().add(new d(0,300,0)),s=this.node.eulerAngles.clone(),o=s.add(new d(8280,0,0)),p=200*(Math.random()-.5),u=200*(Math.random()-.5),y=n.x+p,m=n.y+u,M=c.BOUNDS;y=Math.max(M.min_x,Math.min(M.max_x,y)),m=Math.max(M.min_y,Math.min(M.max_y,m));var f=new d(y,m,n.z),S=d.distance(n,f),v=.8+Math.min(S,400)/400*.7;this.gameplayManager.setToAir(this.node);var x=!1,C=this;this.isFlipping=!0;null==(t=h.instance)||t.playCoinToss();var F=!1;l({t:0}).to(v,{t:1},{easing:"cubicInOut",onUpdate:function(e){var t,s,o,l,p,c,g;if(C.node.setPosition((t=e.t,o=r,l=f,p=(1-t)*(1-t)*(s=n).x+2*(1-t)*t*o.x+t*t*l.x,c=(1-t)*(1-t)*s.y+2*(1-t)*t*o.y+t*t*l.y,g=(1-t)*(1-t)*s.z+2*(1-t)*t*o.z+t*t*l.z,new d(p,c,g))),e.t>=.5&&!x&&(x=!0,a.gameplayManager.setToGround(a.node)),e.t>=.95){var u;if(a.sprite.spriteFrame=i?a.headSprite:a.tailSprite,!1===F)null==(u=h.instance)||u.playCoinCollide(),F=!0}else{var y=Math.floor(23*e.t*2)%2;a.sprite.spriteFrame=0===y?a.headSprite:a.tailSprite}}}).start(),l(this.node).to(v,{eulerAngles:o},{easing:"cubicInOut"}).call((function(){if(a.node.eulerAngles=s,a.isFlipping=!1,i){var t=g.getPlayerCoins(a.coinGradeIndex),n=c.getRevenue(a.coinGradeIndex,t.level)*(a.gameplayManager.isGreedActive()?2:1);g.addMoney(n),a.gameplayManager.playIncomeLabel("$ "+c.formatNumber(n),a.node.position.clone())}a.sprite.spriteFrame=i?a.headSprite:a.tailSprite,g.addStats(i?"Got head":"Got tail",1,!1),e?(g.addStats("Coin flipped",1,!1),a.gameplayManager.taskManager.updateTasksProgress("FlipCoin",1),a.gameplayManager.taskManager.updateTasksProgress(i?"FlipHeads":"FlipTails",1)):(g.addStats("Coin Master flipped",1,!1),a.gameplayManager.taskManager.updateTasksProgress("CoinMasterFlip",1))})).start()}},t}(p)).prototype,"sprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=f))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"7e299o47rRBM5hhgVv58Srb","Constant",void 0);e("STATS_KEY",["Money earned","Coin flipped","Got head","Got tail","Coin bought","Coin upgraded","Coin Master hired","Coin Master flipped","Mastery unlocked"]);var t=e("Constant",function(){function e(){}return e.getUpgradeCost=function(e,n){var t=this.COIN_GRADES[e].revenue;return Math.ceil(t*Math.pow(1.15,n-1))},e.getRevenue=function(e,n){return this.COIN_GRADES[e].revenue*(1+.05*n)},e.getBuyCost=function(e,n){var t=this.COIN_GRADES[e].revenue*Math.pow(2.8,e);return Math.ceil(t*Math.pow(1.75,n))},e.getHireCoinMasterCost=function(e){if(e<0||e>=20)return Number.POSITIVE_INFINITY;return Math.ceil(500*Math.pow(2.5,e))},e.getUnlockMasteryCost=function(e){var n=12*this.COIN_GRADES[e].revenue;return Math.ceil(n*Math.pow(1.8,e))},e.formatNumber=function(e){for(var n=0,t=[{value:1e33,symbol:"Dc"},{value:1e30,symbol:"No"},{value:1e27,symbol:"Oc"},{value:1e24,symbol:"Sp"},{value:1e21,symbol:"Sx"},{value:1e18,symbol:"Qi"},{value:1e15,symbol:"Q"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"}];n<t.length;n++){var r=t[n],o=r.value,a=r.symbol;if(e>=o){var u=e/o,i=u>=100?0:2;return(u%1==0?u.toFixed(0):u.toFixed(i))+a}}return e%1==0?e.toString():e.toFixed(2)},e}());t.MAX_COINMASTERS=20,t.COIN_MAX_LEVEL=30,t.BOUNDS={min_x:-480,max_x:100,min_y:-280,max_y:280},t.COIN_GRADES=[{index:0,name:"Copper",revenue:1},{index:1,name:"Bronze",revenue:10},{index:2,name:"Silver",revenue:100},{index:3,name:"Gold",revenue:1e3},{index:4,name:"Platinum",revenue:1e4},{index:5,name:"Emerald",revenue:1e5},{index:6,name:"Ruby",revenue:1e6},{index:7,name:"Sapphire",revenue:1e7},{index:8,name:"Diamond",revenue:1e8}],n._RF.pop()}}}));

System.register("chunks:///_virtual/CustomBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var n,e,o,c,i,s,a,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,c=t.Button,i=t.Node,s=t.tween,a=t.Component},function(t){l=t.AudioManager}],execute:function(){var r;e._RF.push({},"b30e6r7WQpOrokwyPQRm228","CustomBtn",void 0);var u=o.ccclass;o.property,t("CustomBtn",u("CustomBtn")(r=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){var t=this,n=this.node.getComponent(c),e=this.node.scale.clone(),o=e.clone().multiplyScalar(1.05),a=e.clone().multiplyScalar(1.15);this.node.on(i.EventType.MOUSE_ENTER,(function(){n&&n.interactable&&(t.node.scale=o.clone())}),this),this.node.on(i.EventType.MOUSE_LEAVE,(function(){n&&n.interactable&&(t.node.scale=e.clone())}),this),this.node.on(c.EventType.CLICK,(function(){var o;n&&n.interactable&&(null==(o=l.instance)||o.playClick(),s(t.node).to(.15,{scale:a.clone()}).to(.15,{scale:e.clone()}).start())}),this)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/DelayBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,a,l,o,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,o=t.Sprite,u=t.Button,s=t.Component}],execute:function(){var c,y,p,d,h,b,f;a._RF.push({},"38f4eLDi9tJGatS6tab90mF","DelayBtn",void 0);var v=l.ccclass,D=l.property;t("DelayBtn",(c=v("DelayBtn"),y=D(o),p=D(u),c((b=e((h=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"delayOverlay",b,r(e)),n(e,"button",f,r(e)),e.isConstructed=!1,e.delayGetter=void 0,e.maxDelayGetter=void 0,e}i(e,t);var a=e.prototype;return a.construct=function(t,e){this.delayGetter=t,this.maxDelayGetter=e,this.isConstructed=!0},a.update=function(t){this.isConstructed&&this.updateView()},a.updateView=function(){this.delayOverlay.fillRange=this.delayGetter()/this.maxDelayGetter(),this.delayGetter()<=0?this.button.interactable||(this.button.interactable=!0):this.button.interactable&&(this.button.interactable=!1)},e}(s)).prototype,"delayOverlay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(h.prototype,"button",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/EmptyPlatformSDK.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"28e41nOMLVPyqVCtrgbjqxd","EmptyPlatformSDK",void 0);t("EmptyPlatformSDK",function(){function t(){}var o=t.prototype;return o.init=function(t){console.log("EmptyPlatformSDK initialized"),t()},o.loadingStart=function(){console.log("Loading started")},o.loadingFinish=function(){console.log("Loading finished")},o.gameplayStart=function(){console.log("Gameplay started")},o.gameplayStop=function(){console.log("Gameplay stopped")},o.showMidAds=function(t,o,n){t(),o()},o.showRewardAds=function(t,o,n){t(),o()},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/EventBus.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"91f4bgzI3NEWaXclnRZPEuX","EventBus",void 0);var s=e("EventBus",function(){function e(){this.listeners=new Map}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance};var n=e.prototype;return n.on=function(e,t,n){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add({handler:t,context:n})},n.off=function(e,n,s){var r=this.listeners.get(e);if(r)for(var i,c=t(r);!(i=c()).done;){var o=i.value;o.handler===n&&o.context===s&&r.delete(o)}},n.emit=function(e){for(var t,n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];null==(t=this.listeners.get(e))||t.forEach((function(e){e.handler.apply(e.context,s)}))},n.clear=function(e){e?this.listeners.delete(e):this.listeners.clear()},e}());s.instance=void 0;e("eventBus",s.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameDistribution.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,o,i,d,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,i=n.director,d=n.game,r=n.Component}],execute:function(){var s,a;t._RF.push({},"e196dW/7wBCWIBvV2g+wy5t","GameDistribution",void 0);var u=o.ccclass;o.property,n("GameDistribution",u("GameDistribution")(((a=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))||this).onCompeltedCallback=null,e}e(t,n);var o=t.prototype;return o.onLoad=function(){var n=this;t.instance=this,i.addPersistRootNode(this.node),window.addEventListener("SDK_GAME_START",(function(){d.resume()})),window.addEventListener("SDK_GAME_PAUSE",(function(){d.pause()})),window.addEventListener("SDK_REWARDED_WATCH_COMPLETE",(function(){d.resume(),n.onCompeltedCallback&&(n.onCompeltedCallback(),n.onCompeltedCallback=null)}))},o.showMidAds=function(){var n=window.gdsdk;n&&"undefined"!==n&&"undefined"!==n.showAd&&n.showAd()},o.showRewardAds=function(n){var e=window.gdsdk;e?(this.onCompeltedCallback=n,"undefined"!==e&&"undefined"!==e.showAd&&e.showAd("rewarded")):n()},t}(r)).instance=null,s=a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Constant.ts","./EventBus.ts","./SaveService.ts","./GDPlatformSDK.ts"],(function(t){var a,e,n,r,s,i,o,u,l,d,c,h;return{setters:[function(t){a=t.createForOfIteratorHelperLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t.log},function(t){i=t.AudioManager},function(t){o=t.STATS_KEY,u=t.Constant},function(t){l=t.eventBus},function(t){d=t.SaveService,c=t.CocosLocalSaver},function(t){h=t.GDPlatformSDK}],execute:function(){r._RF.push({},"732a48UcLVOn7WWsMm8Iz5X","GameManager",void 0);var y=function(){function t(t,a){this.mode="",this.playerData=null,this.masteryMaxGradeIndex=0,this.saveService=t,this.platformSDK=a,l.clear(),s("game manager created!")}var r=t.prototype;return r.init=function(){var t=e(n().mark((function t(a){var r=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.init(e(n().mark((function t(){var e,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.load();case 2:""==(e=t.sent)?(r.playerData=r.ensurePlayerData({}),s("No saved data found, initializing with default values.")):(i=JSON.parse(e),r.playerData=r.ensurePlayerData(i)),s("GameManager initialized with player data:",r.playerData),a(),r.updateMasteryMaxIndex();case 7:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}(),r.ensureStats=function(t){for(var e,n=function(){var a=e.value;s("Ensuring stat:",a),t.stats.find((function(t){return t.name===a}))||t.stats.push({name:a,value:0})},r=a(o);!(e=r()).done;)n()},r.ensurePlayerData=function(t){var a,e,n,r,s,i,o,u,l,d,c={highscore:null!=(a=t.highscore)?a:0,bgm:null==(e=t.bgm)||e,sfx:null==(n=t.sfx)||n,money:null!=(r=t.money)?r:0,coinmasterOwned:null!=(s=t.coinmasterOwned)?s:0,coins:null!=(i=t.coins)?i:[],mastery:null!=(o=t.mastery)?o:[],stats:null!=(u=t.stats)?u:[],tasks:null!=(l=t.tasks)?l:[],tutorialStep:null!=(d=t.tutorialStep)?d:0};return c.mastery.length<=0&&c.mastery.push({coinGradeIndex:0}),this.ensureStats(c),c},r.save=function(){var t=JSON.stringify(this.playerData);m.save(t)},r.toggleBGM=function(){var t;this.playerData.bgm=!this.playerData.bgm,s("BGM toggled to:",this.playerData.bgm),this.save(),null==(t=i.instance)||t.updateSettings()},r.toggleSFX=function(){var t;this.playerData.sfx=!this.playerData.sfx,s("SFX toggled to:",this.playerData.sfx),this.save(),null==(t=i.instance)||t.updateSettings()},r.addMoney=function(t,a){void 0===a&&(a=!1),this.playerData.money+=t,a&&this.save(),l.emit("moneyChanged"),this.addStats("Money earned",t,!1)},r.consumeMoney=function(t,a){return void 0===a&&(a=!1),!(this.playerData.money<t)&&(this.playerData.money-=t,a&&this.save(),l.emit("moneyChanged"),!0)},r.getPlayerCoins=function(t){var a=this.playerData.coins.find((function(a){return a.coinGradeIndex===t}));return a?{amount:a.amount,level:a.level}:{amount:0,level:0}},r.addCoin=function(t){var a=this.playerData.coins.find((function(a){return a.coinGradeIndex===t}));a?a.amount++:this.playerData.coins.push({coinGradeIndex:t,amount:1,level:1}),this.save(),l.emit("coinAdded"),this.addStats("Coin bought",1,!0)},r.upgradeCoin=function(t){var a=this.playerData.coins.find((function(a){return a.coinGradeIndex===t}));if(a){if(a.level>=u.COIN_MAX_LEVEL)return;a.level++,this.save(),l.emit("coinUpgraded"),this.addStats("Coin upgraded",1,!0)}},r.updateMasteryMaxIndex=function(){!this.playerData||!this.playerData.mastery||this.playerData.mastery.length<=0?this.masteryMaxGradeIndex=0:this.masteryMaxGradeIndex=Math.max.apply(Math,this.playerData.mastery.map((function(t){return t.coinGradeIndex})))},r.getMasteryMaxGradeIndex=function(){return this.masteryMaxGradeIndex},r.getPlayerMastery=function(t){return this.playerData.mastery.find((function(a){return a.coinGradeIndex===t}))||null},r.upgradeMastery=function(t){this.getPlayerMastery(t)||(this.playerData.mastery.push({coinGradeIndex:t}),this.save(),l.emit("masteryUpgraded"),this.updateMasteryMaxIndex(),this.addStats("Mastery unlocked",1,!0))},r.buyCoinMaster=function(){this.playerData.coinmasterOwned>=u.MAX_COINMASTERS?s("Cannot buy more Coin Masters, limit reached."):(this.playerData.coinmasterOwned++,this.save(),this.addStats("Coin Master hired",1,!0),l.emit("coinMasterChanged"))},r.addStats=function(t,a,e){var n=this.playerData.stats.find((function(a){return a.name===t}));if(n)n.value+=a;else{var r=a;this.playerData.stats.push({name:t,value:r})}e&&this.save(),l.emit("statsChanged",{key:t,value:n?n.value:a})},r.getStats=function(t){var a=this.playerData.stats.find((function(a){return a.name===t}));return a?a.value:0},r.updateTutorialStep=function(t){this.playerData.tutorialStep=t,this.save()},t}(),p=new c,f=new h,m=new d(p);t("default",new y(m,f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts","./EventBus.ts","./Coin.ts","./Capybara.ts","./BellBtn.ts","./PowerupManager.ts","./TutorialManager.ts","./DelayBtn.ts","./TaskManager.ts"],(function(n){var e,t,a,r,i,o,u,l,s,c,p,f,b,d,h,y,g,m,v,w,M,C,B,P,D,L,_,z;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,r=n.assertThisInitialized,i=n.createForOfIteratorHelperLoose},function(n){o=n.cclegacy,u=n._decorator,l=n.Camera,s=n.Node,c=n.Label,p=n.instantiate,f=n.Vec3,b=n.Vec2,d=n.log,h=n.macro,y=n.tween,g=n.Color,m=n.Component},function(n){v=n.Constant},function(n){w=n.default},function(n){M=n.eventBus},function(n){C=n.Coin},function(n){B=n.Capybara},function(n){P=n.BellBtn},function(n){D=n.PowerupManager},function(n){L=n.TutorialManager},function(n){_=n.DelayBtn},function(n){z=n.TaskManager}],execute:function(){var T,N,A,x,O,R,E,G,I,U,k,S,H,F,X,V,q,J,W,j,Y,Z,$,K,Q,nn,en,tn,an,rn,on,un,ln;o._RF.push({},"e80a67JXGxIf7EmR71lE1JX","GameplayManager",void 0);var sn=u.ccclass,cn=u.property;n("GameplayManager",(T=sn("GameplayManager"),N=cn(l),A=cn(L),x=cn(D),O=cn(z),R=cn(s),E=cn(s),G=cn(s),I=cn(s),U=cn(B),k=cn(c),S=cn(P),H=cn(_),F=cn(_),X=cn(_),V=cn(c),T((W=e((J=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i))||this,a(e,"mainCamera",W,r(e)),a(e,"tutorialManager",j,r(e)),a(e,"powerupManager",Y,r(e)),a(e,"taskManager",Z,r(e)),a(e,"areaClickHandler",$,r(e)),a(e,"groundContainer",K,r(e)),a(e,"airContainer",Q,r(e)),a(e,"coinPrefab",nn,r(e)),a(e,"capybaraPrefab",en,r(e)),a(e,"moneyLabel",tn,r(e)),a(e,"bellBtn",an,r(e)),a(e,"midasBtn",rn,r(e)),a(e,"greedBtn",on,r(e)),a(e,"frenzyBtn",un,r(e)),a(e,"incomeLabelPrefab",ln,r(e)),e.coins=[],e.capybaras=[],e.incomeLabelsPool=[],e.isMoneyLabelTweening=!1,e}t(e,n);var o=e.prototype;return o.start=function(){var n=this;this.coinPrefab.active=!1,this.capybaraPrefab.node.active=!1,this.incomeLabelPrefab.node.active=!1;for(var e=0;e<30;e++){var t=p(this.incomeLabelPrefab.node);t.active=!1,this.incomeLabelsPool.push(t.getComponent(c)),t.setParent(this.incomeLabelPrefab.node.parent)}for(var a,r=i(w.playerData.coins);!(a=r()).done;)for(var o=a.value,u=0;u<o.amount;u++)this.spawnCoin(o.coinGradeIndex);for(var l=0;l<w.playerData.coinmasterOwned;l++)this.spawnCapybara();this.updateMoneyLabel();this.areaClickHandler.on(s.EventType.TOUCH_START,(function(e){for(var t,a,r=e.getLocation(),o=(null==(t=n.mainCamera)?void 0:t.screenToWorld(new f(r.x,r.y,0)))||new f,u=n.coins.filter((function(n){var e=n.node.worldPosition;return b.distance(e,o)<=75})),l=i(u);!(a=l()).done;){a.value.tossAndFlip(!0)}for(var s,c=n.capybaras.filter((function(n){var e=n.node.worldPosition;return b.distance(e,o)<=50})),p=i(c);!(s=p()).done;){s.value.wakeUp()}}),this),this.tutorialManager.construct(this),this.powerupManager.construct(this),this.taskManager.construct(),this.bellBtn.construct(this),this.midasBtn.construct((function(){return n.powerupManager.midasDuration}),(function(){return n.powerupManager.MIDAS_MAX_DURATION})),this.greedBtn.construct((function(){return n.powerupManager.greedDuration}),(function(){return n.powerupManager.GREED_MAX_DURATION})),this.frenzyBtn.construct((function(){return n.powerupManager.frenzyDuration}),(function(){return n.powerupManager.FRENZY_MAX_DURATION})),this.schedule((function(){w.save(),d("invoke save")}),5,h.REPEAT_FOREVER),M.on("moneyChanged",this.updateMoneyLabel,this)},o.onDestroy=function(){M.off("moneyChanged",this.updateMoneyLabel,this)},o.spawnCoin=function(n){var e=p(this.coinPrefab);e.active=!0;var t=v.BOUNDS,a=Math.random()*(t.max_x-t.min_x)+t.min_x,r=Math.random()*(t.max_y-t.min_y)+t.min_y;e.setPosition(a,r,0);var i=e.getComponent(C);i.construct(this,n),this.coins.push(i),this.setToGround(e)},o.spawnCapybara=function(){var n=p(this.capybaraPrefab.node);n.active=!0,n.setPosition(Math.random()*(v.BOUNDS.max_x-v.BOUNDS.min_x)+v.BOUNDS.min_x,Math.random()*(v.BOUNDS.max_y-v.BOUNDS.min_y)+v.BOUNDS.min_y,0);var e=n.getComponent(B);e.construct(this),this.capybaras.push(e),this.setToGround(n)},o.update=function(n){this.sortNodes(this.groundContainer),this.sortNodes(this.airContainer)},o.sortNodes=function(n){var e=n.children;e.sort((function(n,e){return e.position.y-n.position.y}));for(var t,a=0,r=i(e);!(t=r()).done;){t.value.setSiblingIndex(a++)}},o.setToAir=function(n){n.setParent(this.airContainer),this.sortNodes(this.airContainer),this.sortNodes(this.groundContainer)},o.setToGround=function(n){n.setParent(this.groundContainer),this.sortNodes(this.airContainer),this.sortNodes(this.groundContainer)},o.updateMoneyLabel=function(){var n=this;0==this.isMoneyLabelTweening&&(this.isMoneyLabelTweening=!0,y(this.moneyLabel.node).to(.1,{scale:new f(1.2,1.2,1)}).to(.1,{scale:new f(1,1,1)}).call((function(){n.isMoneyLabelTweening=!1})).start());var e=w.playerData.money;this.moneyLabel.string="$ "+v.formatNumber(e)},o.handleRingingBell=function(){for(var n,e=i(this.capybaras);!(n=e()).done;){n.value.wakeUp()}},o.isMidasActive=function(){return this.powerupManager.midasDuration>0},o.isGreedActive=function(){return this.powerupManager.greedDuration>0},o.isFrenzyActive=function(){return this.powerupManager.frenzyDuration>0},o.playIncomeLabel=function(n,e){var t=this.incomeLabelsPool.find((function(n){return!n.node.activeInHierarchy}));t&&(t.string=n,t.node.active=!0,t.node.setPosition(e),this.isGreedActive()?t.color=g.RED:t.color=g.WHITE,y(t.node).to(.2,{scale:new f(1.2,1.2,1),position:e.clone().add3f(0,20,0)},{easing:"quadOut"}).to(.2,{scale:new f(1,1,1),position:e.clone().add3f(0,40,0)},{easing:"quadIn"}).call((function(){t.node.active=!1})).start())},e}(m)).prototype,"mainCamera",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(J.prototype,"tutorialManager",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(J.prototype,"powerupManager",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(J.prototype,"taskManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(J.prototype,"areaClickHandler",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(J.prototype,"groundContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(J.prototype,"airContainer",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nn=e(J.prototype,"coinPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),en=e(J.prototype,"capybaraPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tn=e(J.prototype,"moneyLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),an=e(J.prototype,"bellBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rn=e(J.prototype,"midasBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=e(J.prototype,"greedBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),un=e(J.prototype,"frenzyBtn",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=e(J.prototype,"incomeLabelPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=J))||q));o._RF.pop()}}}));

System.register("chunks:///_virtual/GDPlatformSDK.ts",["cc","./GameDistribution.ts"],(function(t){var n,i,o;return{setters:[function(t){n=t.cclegacy,i=t.log},function(t){o=t.GameDistribution}],execute:function(){n._RF.push({},"5e249QolfFMn5oYeqZrI7/8","GDPlatformSDK",void 0);t("GDPlatformSDK",function(){function t(){}var n=t.prototype;return n.init=function(t){return t(),Promise.resolve()},n.loadingStart=function(){i("Loading started")},n.loadingFinish=function(){i("Loading finished")},n.gameplayStart=function(){i("Gameplay started")},n.gameplayStop=function(){i("Gameplay stopped")},n.showMidAds=function(t,n,i){o.instance.showMidAds()},n.showRewardAds=function(t,n,i){o.instance.showRewardAds(n)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/HandGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,u,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,o=e.tween,u=e.Vec3,i=e.Component}],execute:function(){var a;t._RF.push({},"584fbZZvudACIgjfeRRUrUQ","HandGuide",void 0);var s=r.ccclass;r.property,e("HandGuide",s("HandGuide")(a=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.start=function(){o(this.node).to(.5,{scale:new u(.35,.35,1)},{easing:"quadOut"}).to(.5,{scale:new u(.3,.3,1)},{easing:"quadIn"}).union().repeatForever().start()},t}(i))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/HireCoinMasterItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Constant.ts","./Toast.ts"],(function(t){var e,n,i,a,r,o,u,l,s,c,p,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,u=t.Label,l=t.Button,s=t.log,c=t.Component},function(t){p=t.default},function(t){y=t.Constant},function(t){b=t.Toast}],execute:function(){var f,h,d,g,m,C,M,v,w;r._RF.push({},"68e3aLt3YZD06O6g+chY7XX","HireCoinMasterItem",void 0);var B=o.ccclass,L=o.property;t("HireCoinMasterItem",(f=B("HireCoinMasterItem"),h=L(u),d=L(l),g=L(u),f((M=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"detailLabel",M,a(e)),i(e,"buyButton",v,a(e)),i(e,"priceLabel",w,a(e)),e.gameplayManager=null,e}n(e,t);var r=e.prototype;return r.construct=function(t){var e=this;this.gameplayManager=t,this.buyButton.node.on(l.EventType.CLICK,(function(){e.onBuyButtonClicked()}),this),this.updateView()},r.onEnable=function(){this.updateView()},r.updateView=function(){var t=p.playerData.coinmasterOwned;this.detailLabel.string="Hire a Coin Master to flip coins for you.\n Owned : "+t;var e=y.getHireCoinMasterCost(t);this.priceLabel.string="$"+y.formatNumber(e),t>=y.MAX_COINMASTERS?(this.buyButton.interactable=!1,this.buyButton.node.active=!1):this.buyButton.interactable=!0},r.onBuyButtonClicked=function(){s("Buy button clicked");var t,e=p.playerData.coinmasterOwned,n=y.getHireCoinMasterCost(e);p.consumeMoney(n)?(p.buyCoinMaster(),this.gameplayManager.spawnCapybara(),this.updateView()):null==(t=b.instance)||t.show("Not enough money.")},e}(c)).prototype,"detailLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"buyButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"priceLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/ListTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(t){var n,i,o,e,a,r,s,c,l,b,u,T,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Button,c=t.Node,l=t.Sprite,b=t.Color,u=t.log,T=t.Component},function(t){f=t.default}],execute:function(){var p,h,C,d,k,m,g,B,M,v,y,A,w,z,L,I,S,E,K;a._RF.push({},"e9412CMkdJNjpoQYxbWChFe","ListTab",void 0);var D=r.ccclass,R=r.property;t("ListTab",(p=D("ListTab"),h=R(s),C=R(s),d=R(s),k=R(s),m=R(c),g=R(c),B=R(c),M=R(c),p((A=n((y=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,o(n,"coinTabBtn",A,e(n)),o(n,"coinMasterTabBtn",w,e(n)),o(n,"statsTabBtn",z,e(n)),o(n,"taskTabBtn",L,e(n)),o(n,"coinTab",I,e(n)),o(n,"coinMasterTab",S,e(n)),o(n,"statsTab",E,e(n)),o(n,"taskTab",K,e(n)),n}i(n,t);var a=n.prototype;return a.start=function(){var t=this;this.coinTabBtn.node.on(s.EventType.CLICK,(function(){f.platformSDK.showMidAds((function(){}),(function(){}),(function(){})),t.onCoinTabClicked()}),this),this.coinMasterTabBtn.node.on(s.EventType.CLICK,(function(){f.platformSDK.showMidAds((function(){}),(function(){}),(function(){})),t.onCoinMasterTabClicked()}),this),this.statsTabBtn.node.on(s.EventType.CLICK,(function(){f.platformSDK.showMidAds((function(){}),(function(){}),(function(){})),t.onStatsTabClicked()}),this),this.taskTabBtn.node.on(s.EventType.CLICK,(function(){f.platformSDK.showMidAds((function(){}),(function(){}),(function(){})),t.onTaskTabClicked()}),this),this.onCoinTabClicked()},a.hideAllTabs=function(){this.coinTab.active=!1,this.coinMasterTab.active=!1,this.statsTab.active=!1,this.taskTab.active=!1,this.coinTabBtn.getComponent(l).color=b.WHITE,this.coinMasterTabBtn.getComponent(l).color=b.WHITE,this.statsTabBtn.getComponent(l).color=b.WHITE,this.taskTabBtn.getComponent(l).color=b.WHITE},a.onCoinTabClicked=function(){u("Coin tab clicked"),this.hideAllTabs(),this.coinTab.active=!0,this.coinTabBtn.getComponent(l).color=b.GRAY},a.onCoinMasterTabClicked=function(){u("Coin Master tab clicked"),this.hideAllTabs(),this.coinMasterTab.active=!0,this.coinMasterTabBtn.getComponent(l).color=b.GRAY},a.onStatsTabClicked=function(){u("Stats tab clicked"),this.hideAllTabs(),this.statsTab.active=!0,this.statsTabBtn.getComponent(l).color=b.GRAY},a.onTaskTabClicked=function(){u("Task tab clicked"),this.hideAllTabs(),this.taskTab.active=!0,this.taskTabBtn.getComponent(l).color=b.GRAY},a.openCoinMaster=function(){this.onCoinMasterTabClicked()},a.openCoin=function(){this.onCoinTabClicked()},n}(T)).prototype,"coinTabBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(y.prototype,"coinMasterTabBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(y.prototype,"statsTabBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(y.prototype,"taskTabBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(y.prototype,"coinTab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(y.prototype,"coinMasterTab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(y.prototype,"statsTab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(y.prototype,"taskTab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioBtn.ts","./AudioManager.ts","./BellBtn.ts","./Bootstrap.ts","./CapySleep.ts","./Capybara.ts","./Coin.ts","./Constant.ts","./CustomBtn.ts","./DelayBtn.ts","./EventBus.ts","./GameDistribution.ts","./GameManager.ts","./GameplayManager.ts","./HandGuide.ts","./HireCoinMasterItem.ts","./ListTab.ts","./MasteryListItem.ts","./MasteryManager.ts","./PowerupManager.ts","./SettingPanel.ts","./SortZ.ts","./SpritesGallery.ts","./StatsListItem.ts","./StatsManager.ts","./StatsPanel.ts","./TaskListItem.ts","./TaskManager.ts","./Toast.ts","./Tooltip.ts","./TooltipEnums.ts","./TooltipTrigger.ts","./TutorialManager.ts","./UpgradeListItem.ts","./UpgradeManager.ts","./EmptyPlatformSDK.ts","./GDPlatformSDK.ts","./PlatformSDK.ts","./SaveService.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MasteryListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Constant.ts","./Toast.ts","./SpritesGallery.ts"],(function(e){var t,n,i,r,a,o,l,s,c,u,d,p,y,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Sprite,s=e.Label,c=e.Button,u=e.log,d=e.Component},function(e){p=e.default},function(e){y=e.Constant},function(e){b=e.Toast},function(e){f=e.SpritesGallery}],execute:function(){var h,m,g,I,L,v,G,M,k,x,C,w,B;a._RF.push({},"da6e6rQXmBCJJw42tCLo2iS","MasteryListItem",void 0);var z=o.ccclass,S=o.property;e("MasteryListItem",(h=z("MasteryListItem"),m=S(l),g=S(s),I=S(s),L=S(c),v=S(s),h((k=t((M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"icon",k,r(t)),i(t,"nameLabel",x,r(t)),i(t,"detailLabel",C,r(t)),i(t,"unlockBtn",w,r(t)),i(t,"priceLabel",B,r(t)),t.coinGradeIndex=-1,t}n(t,e);var a=t.prototype;return a.construct=function(e,t){var n,i=this;this.coinGradeIndex=t,this.icon.spriteFrame=null==(n=f.instance)?void 0:n.getSpriteById("capy-"+(this.coinGradeIndex+1)),this.updateView(),this.unlockBtn.node.on(c.EventType.CLICK,(function(){u("click unlock mastery : "+i.coinGradeIndex);var e,t=y.getUnlockMasteryCost(i.coinGradeIndex);p.consumeMoney(t)?p.upgradeMastery(i.coinGradeIndex):null==(e=b.instance)||e.show("Not enough money.")}),this)},a.updateView=function(){var e=p.getPlayerMastery(this.coinGradeIndex-1);this.coinGradeIndex>0&&!e?this.node.active=!1:this.node.active=!0;var t=y.COIN_GRADES[this.coinGradeIndex],n=t.name+" Mastery",i="Unlocks the ability for Coin Masters to flip "+t.name+" Coins.";if(p.getPlayerMastery(this.coinGradeIndex))this.unlockBtn.interactable=!1,this.priceLabel.string="Unlocked";else{this.unlockBtn.interactable=!0;var r=y.getUnlockMasteryCost(this.coinGradeIndex);this.priceLabel.string="$"+y.formatNumber(r)}this.nameLabel.string=n,this.detailLabel.string=i},t}(d)).prototype,"icon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(M.prototype,"nameLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(M.prototype,"detailLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(M.prototype,"unlockBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(M.prototype,"priceLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=M))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/MasteryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayManager.ts","./MasteryListItem.ts","./Constant.ts","./EventBus.ts","./HireCoinMasterItem.ts"],(function(e){var t,a,r,n,i,o,s,u,l,c,p,d,f,h,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,s=e._decorator,u=e.Node,l=e.instantiate,c=e.log,p=e.Component},function(e){d=e.GameplayManager},function(e){f=e.MasteryListItem},function(e){h=e.Constant},function(e){g=e.eventBus},function(e){m=e.HireCoinMasterItem}],execute:function(){var y,M,v,b,C,w,I,z,B,P,V;o._RF.push({},"006d8Bom/ZEN7jW7iBooBW+","MasteryManager",void 0);var D=s.ccclass,L=s.property;e("MasteryManager",(y=D("MasteryManager"),M=L(d),v=L(f),b=L(u),C=L(m),y((z=t((I=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"gameplayManager",z,n(t)),r(t,"itemPrefab",B,n(t)),r(t,"container",P,n(t)),r(t,"hireCoinMasterItem",V,n(t)),t.items=[],t}a(t,e);var o=t.prototype;return o.start=function(){this.hireCoinMasterItem.construct(this.gameplayManager),this.itemPrefab.node.active=!1;for(var e,t=i(h.COIN_GRADES);!(e=t()).done;){var a=e.value,r=l(this.itemPrefab.node);r.active=!0;var n=r.getComponent(f);n&&n.construct(this.gameplayManager,a.index),this.container.addChild(r),this.items.push(n)}g.on("masteryUpgraded",this.handleMasteryUpgraded,this),g.on("coinMasterChanged",this.updateViews,this)},o.onDestroy=function(){g.off("masteryUpgraded",this.handleMasteryUpgraded,this),g.off("coinMasterChanged",this.updateViews,this)},o.handleMasteryUpgraded=function(){c("Mastery upgraded, updating views."),this.updateViews()},o.updateViews=function(){this.hireCoinMasterItem.updateView();for(var e,t=i(this.items);!(e=t()).done;){e.value.updateView()}},t}(p)).prototype,"gameplayManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"itemPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"container",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(I.prototype,"hireCoinMasterItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=I))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformSDK.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"9d7ddrKM8JLarIGsZZxcCYG","PlatformSDK",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./AudioManager.ts"],(function(e){var n,t,i,r,o,a,u,l,c,s,f,p,d,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Button,l=e.Node,c=e.Label,s=e.log,f=e.Component,p=e.game},function(e){d=e.default},function(e){m=e.AudioManager}],execute:function(){var y,b,g,h,P,w,v,D,z,C,B,M,A,L,I,E,_;o._RF.push({},"a516a8LkRZGBKaFkybX60EI","PowerupManager",void 0);var R=a.ccclass,T=a.property;e("PowerupManager",(y=R("PowerupManager"),b=T(u),g=T(u),h=T(u),P=T(l),w=T(c),v=T(u),D=T(u),y((B=n((C=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"midasBtn",B,r(n)),i(n,"greedBtn",M,r(n)),i(n,"frenzyBtn",A,r(n)),i(n,"confirmationPanel",L,r(n)),i(n,"confirmationLabel",I,r(n)),i(n,"yesBtn",E,r(n)),i(n,"noBtn",_,r(n)),n.selectedPowerup="",n.MIDAS_MAX_DURATION=180,n.GREED_MAX_DURATION=300,n.FRENZY_MAX_DURATION=180,n.midasDuration=0,n.greedDuration=0,n.frenzyDuration=0,n}t(n,e);var o=n.prototype;return o.construct=function(e){var n=this;this.midasBtn.node.on(u.EventType.CLICK,(function(){s("Midas button clicked"),n.selectedPowerup="midas",n.openConfirmationPanel("Activate Midas: Every coin you flip by tapping will land on heads for 3 minutes.")}),this),this.greedBtn.node.on(u.EventType.CLICK,(function(){s("Greed button clicked"),n.selectedPowerup="greed",n.openConfirmationPanel("Activate Greed: 2x income for 5 minutes.")}),this),this.frenzyBtn.node.on(u.EventType.CLICK,(function(){s("Frenzy button clicked"),n.selectedPowerup="frenzy",n.openConfirmationPanel("Activate Frenzy: Coin Master is 2x faster and never sleeps.")}),this),this.yesBtn.node.on(u.EventType.CLICK,(function(){s("Yes button clicked, selected powerup:",n.selectedPowerup);d.platformSDK.showRewardAds((function(){p.pause()}),(function(){var e;p.resume(),n.closeConfirmationPanel(),"midas"==n.selectedPowerup?n.midasDuration=180:"greed"==n.selectedPowerup?n.greedDuration=300:"frenzy"==n.selectedPowerup&&(n.frenzyDuration=180),n.selectedPowerup="",null==(e=m.instance)||e.playScore()}),(function(){p.resume()}))}),this),this.noBtn.node.on(u.EventType.CLICK,(function(){n.closeConfirmationPanel()}),this)},o.update=function(e){this.midasDuration>0&&(this.midasDuration-=e),this.greedDuration>0&&(this.greedDuration-=e),this.frenzyDuration>0&&(this.frenzyDuration-=e)},o.openConfirmationPanel=function(e){this.confirmationLabel.string=e,this.confirmationPanel.active=!0},o.closeConfirmationPanel=function(){this.confirmationPanel.active=!1},n}(f)).prototype,"midasBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(C.prototype,"greedBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(C.prototype,"frenzyBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(C.prototype,"confirmationPanel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(C.prototype,"confirmationLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(C.prototype,"yesBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(C.prototype,"noBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=C))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/SaveService.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,a;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e.sys}],execute:function(){n._RF.push({},"51422VFLFNADq6QL1UOTADZ","SaveService",void 0);e("SaveService",function(){function e(e){this.key="game-save",this.saver=e}var n=e.prototype;return n.save=function(e){this.saver.save(e)},n.load=function(){var e=r(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saver.load(this.key);case 2:if(null!=(r=e.sent)&&null!=r&&""!=r){e.next=5;break}return e.abrupt("return","");case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}()),e("CocosLocalSaver",function(){function e(){}var n=e.prototype;return n.save=function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.localStorage.setItem("game-save",r);case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),n.load=function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem(r)||"");case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./AudioManager.ts"],(function(e){var t,n,i,a,l,o,r,c,s,u,b,p,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.Button,c=e.Label,s=e.log,u=e.Vec3,b=e.tween,p=e.Component},function(e){f=e.default},function(e){g=e.AudioManager}],execute:function(){var h,d,y,v,m,L,B,C,k,w,x,F,z;l._RF.push({},"3e97bZ7q7hGoYfFlm/ApoGx","SettingPanel",void 0);var S=o.ccclass,M=o.property;e("SettingPanel",(h=S("SettingPanel"),d=M(r),y=M(r),v=M(r),m=M(c),L=M(c),h((k=t((C=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"closeBtn",k,a(t)),i(t,"bgmBtn",w,a(t)),i(t,"sfxBtn",x,a(t)),i(t,"bgmLabel",F,a(t)),i(t,"sfxLabel",z,a(t)),t}n(t,e);var l=t.prototype;return l.start=function(){var e=this;this.bgmBtn.node.on(r.EventType.CLICK,(function(){var t;s("BGM button clicked"),f.toggleBGM(),null==(t=g.instance)||t.playClick(),e.updateLabels()}),this),this.sfxBtn.node.on(r.EventType.CLICK,(function(){var t;s("SFX button clicked"),f.toggleSFX(),null==(t=g.instance)||t.playClick(),e.updateLabels()}),this),this.closeBtn.node.on(r.EventType.CLICK,(function(){var t;s("Close button clicked"),null==(t=g.instance)||t.playClick(),e.hide()}),this)},l.updateLabels=function(){this.bgmLabel.string=f.playerData.bgm?"ON":"OFF",this.sfxLabel.string=f.playerData.sfx?"ON":"OFF"},l.show=function(){var e;this.updateLabels(),null==(e=g.instance)||e.playClick(),this.node.active=!0,this.node.scale=new u(.8,.8,1),b(this.node).to(.3,{scale:u.ONE},{easing:"backOut"}).start()},l.hide=function(){var e=this;b(this.node).to(.3,{scale:new u(.8,.8,1)},{easing:"backIn"}).call((function(){e.node.active=!1})).start()},t}(p)).prototype,"closeBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"bgmBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"sfxBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"bgmLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"sfxLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=C))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/SortZ.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.Component}],execute:function(){var i;e._RF.push({},"1ca4dLIiklDGJ9NuKE8PDGD","SortZ",void 0);var s=n.ccclass;n.property,t("SortZ",s("SortZ")(i=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.lateUpdate=function(t){var o=this.node.position.y,e=1e3-o;e>1e3&&(e=1e3),this.node.setPosition(this.node.position.x,o,e)},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/SpritesGallery.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,t,n,o,a,i,s,c,u,l,p;return{setters:[function(r){e=r.inheritsLoose,t=r.asyncToGenerator,n=r.regeneratorRuntime,o=r.createForOfIteratorHelperLoose},function(r){a=r.cclegacy,i=r._decorator,s=r.director,c=r.Component,u=r.log,l=r.resources,p=r.SpriteFrame}],execute:function(){var d,f;a._RF.push({},"2bd31vTyDBOw6JaIu2vlSia","SpritesGallery",void 0);var v=i.ccclass;i.property,r("SpritesGallery",v("SpritesGallery")(((f=function(r){function a(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))||this).sprites=new Map,e}e(a,r);var i=a.prototype;return i.onLoad=function(){s.addPersistRootNode(this.node),a.instance=this},i.loadSprites=function(){var r=t(n().mark((function r(e,t){var a=this;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u("loading textures "+e),r.abrupt("return",new Promise((function(r,n){l.loadDir(e,p,t,(function(e,t){if(e)return console.error("Failed to load sprite frames from directory:",e),void n(e);for(var i,s=o(t);!(i=s()).done;){var c=i.value;u("add "+c.name+" to sprites gallery"),a.sprites.set(c.name,c)}r()}))})));case 2:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),i.getSpriteById=function(r){return this.sprites.get(r)||null},a}(c)).instance=null,d=f))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/StatsListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Constant.ts"],(function(t){var e,i,a,n,r,s,o,l,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,o=t.Sprite,l=t.Label,u=t.Component},function(t){c=t.default},function(t){p=t.Constant}],execute:function(){var m,f,b,h,d,y,L,g,v;r._RF.push({},"ca275N7QUFH+JQvSHYYsI64","StatsListItem",void 0);var N=s.ccclass,S=s.property;t("StatsListItem",(m=N("StatsListItem"),f=S(o),b=S(l),h=S(l),m((L=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"icon",L,n(e)),a(e,"nameLabel",g,n(e)),a(e,"detailLabel",v,n(e)),e.statsName="",e}i(e,t);var r=e.prototype;return r.construct=function(t,e){this.icon.spriteFrame=t,this.statsName=e,this.updateView()},r.updateView=function(){this.nameLabel.string=this.statsName;var t=c.getStats(this.statsName),e=this.statsName.includes("Mastery unlocked")?t+1:t,i=this.statsName.includes("Money")?"$":"";Number.isInteger(t),this.detailLabel.string=""+i+p.formatNumber(e)},e}(u)).prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(y.prototype,"nameLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"detailLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/StatsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayManager.ts","./StatsListItem.ts","./EventBus.ts","./GameManager.ts","./SpritesGallery.ts"],(function(t){var e,a,n,i,r,o,s,c,l,u,f,p,d,h,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,s=t._decorator,c=t.Node,l=t.instantiate,u=t.Component},function(t){f=t.GameplayManager},function(t){p=t.StatsListItem},function(t){d=t.eventBus},function(t){h=t.default},function(t){g=t.SpritesGallery}],execute:function(){var m,y,v,b,S,M,w,C,L;o._RF.push({},"be77f9+asRLyaAFK6hXGkdP","StatsManager",void 0);var P=s.ccclass,G=s.property;t("StatsManager",(m=P("StatsManager"),y=G(f),v=G(p),b=G(c),m((w=e((M=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"gameplayManager",w,i(e)),n(e,"itemPrefab",C,i(e)),n(e,"container",L,i(e)),e.items=[],e}a(e,t);var o=e.prototype;return o.start=function(){this.itemPrefab.node.active=!1;for(var t,e=h.playerData.stats,a=r(e);!(t=a()).done;){var n=t.value,i=l(this.itemPrefab.node);i.active=!0;var o=i.getComponent(p);if(o){var s,c="icon-"+n.name.toLowerCase().replace(/\s+/g,"-"),u=null==(s=g.instance)?void 0:s.getSpriteById(c);o.construct(u,n.name)}this.container.addChild(i),this.items.push(o)}d.on("statsChanged",this.handleStatsChanged,this)},o.onDestroy=function(){d.off("coinAdded",this.handleStatsChanged,this)},o.handleStatsChanged=function(t){if(!1!==this.container.activeInHierarchy){var e=this.items.find((function(e){return e.statsName===t.key}));e&&e.updateView()}},o.updateViews=function(){for(var t,e=r(this.items);!(t=e()).done;){t.value.updateView()}},e}(u)).prototype,"gameplayManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(M.prototype,"itemPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(M.prototype,"container",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=M))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/StatsPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StatsManager.ts"],(function(t){var e,a,n,r,s,i,o,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,i=t._decorator,o=t.Component},function(t){c=t.StatsManager}],execute:function(){var l,u,p,f,g;s._RF.push({},"30db0XES2xD4ZJcpqzUdisd","StatsPanel",void 0);var d=i.ccclass,h=i.property;t("StatsPanel",(l=d("StatsPanel"),u=h(c),l((g=e((f=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s))||this,n(e,"statsManager",g,r(e)),e}return a(e,t),e.prototype.onEnable=function(){this.statsManager&&this.statsManager.updateViews()},e}(o)).prototype,"statsManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/TaskListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,a,s,o,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Label,u=e.Component}],execute:function(){var c,l,p,b,f,g,d;a._RF.push({},"6bccbURFuBCgqtApcu7I6UN","TaskListItem",void 0);var h=s.ccclass,L=s.property;e("TaskListItem",(c=h("TaskListItem"),l=L(o),p=L(o),c((g=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"nameLabel",g,n(t)),i(t,"progressLabel",d,n(t)),t.taskManager=null,t.id=void 0,t}r(t,e);var a=t.prototype;return a.construct=function(e,t){this.taskManager=e,this.id=t,this.updateView()},a.updateView=function(){var e=this,t=this.taskManager.activeTasks.find((function(t){return t.id===e.id}));t&&(this.nameLabel.string=t.description,this.progressLabel.string=t.progress+" / "+t.requiredAmount)},t}(u)).prototype,"nameLabel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(f.prototype,"progressLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./TaskListItem.ts"],(function(t){var e,s,i,n,a,r,o,c,l,u,p,h,k,f,d,m,g,v,T,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createForOfIteratorHelperLoose,r=t.createClass},function(t){o=t.cclegacy,c=t._decorator,l=t.Node,u=t.Button,p=t.Sprite,h=t.Color,k=t.log,f=t.tween,d=t.Vec3,m=t.instantiate,g=t.Layout,v=t.Component},function(t){T=t.default},function(t){w=t.TaskListItem}],execute:function(){var b,y,C,I,M,B,F,A,D,L,x;o._RF.push({},"dfcc80fy3lIg4/yI7vbMGlB","TaskManager",void 0);var P=c.ccclass,z=c.property,q=function(){function t(t,e,s){this.progress=0,this.id=t,this.description=e,this.requiredAmount=s}return t.prototype.resetTask=function(){this.progress=0},r(t,[{key:"isCompleted",get:function(){return this.progress>=this.requiredAmount}}]),t}();t("TaskManager",(b=P("TaskManager"),y=z(w),C=z(l),I=z(u),M=z(l),b((A=e((F=function(t){function e(){for(var e,s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"itemPrefab",A,n(e)),i(e,"container",D,n(e)),i(e,"claimButton",L,n(e)),i(e,"icon",x,n(e)),e.taskItems=[],e.tasks=[],e.activeTasks=[],e.iconTween=null,e}s(e,t);var r=e.prototype;return r.construct=function(){var t=this;if(this.itemPrefab.node.active=!1,this.claimButton.interactable=!1,this.claimButton.getComponent(p).color=h.GRAY,this.tasks.push(new q(1,"Flip coins 100x",100)),this.tasks.push(new q(2,"Flip heads 100x",100)),this.tasks.push(new q(3,"Flip tails 100x",100)),this.tasks.push(new q(4,"Coin Master flip 100x",100)),this.tasks.push(new q(5,"Wake sleeping Coin Masters 10x",10)),T.playerData.tasks.length<2)T.playerData.tasks=[],k("no task in gameManager Assign new task"),this.assignNewTask();else{for(var e,s=function(){var s=e.value,i=t.tasks.find((function(t){return t.id===s.id}));i&&(i.progress=s.progress,t.activeTasks.push(i))},i=a(T.playerData.tasks);!(e=i()).done;)s();this.spawnTasksItem()}this.checkCompletion(),this.claimButton.node.on(u.EventType.CLICK,(function(){T.addMoney(500),t.assignNewTask()}),this)},r.updateTasksProgress=function(t,e){var s=0;switch(t){case"FlipCoin":s=1;break;case"FlipHeads":s=2;break;case"FlipTails":s=3;break;case"CoinMasterFlip":s=4;break;case"WakeSleepingCoinMasters":s=5}var i=this.activeTasks.find((function(t){return t.id===s}));if(i){i.progress+=e,i.progress>i.requiredAmount&&(i.progress=i.requiredAmount);var n=T.playerData.tasks.find((function(t){return t.id===s}));n&&(n.progress=i.progress);for(var r,o=a(this.taskItems);!(r=o()).done;){r.value.updateView()}this.checkCompletion()}},r.checkCompletion=function(){for(var t,e=0,s=a(this.activeTasks);!(t=s()).done;){t.value.isCompleted&&e++}e>=2?(this.claimButton.interactable=!0,this.claimButton.getComponent(p).color=h.WHITE,null==this.iconTween&&(this.iconTween=f(this.icon).to(.5,{scale:new d(1.2,1.2,1)},{easing:"sineInOut"}).to(.5,{scale:new d(1,1,1)},{easing:"sineInOut"}).union().repeatForever().start())):this.iconTween&&(this.iconTween.stop(),this.icon.scale=new d(1,1,1),this.iconTween=null)},r.spawnTasksItem=function(){for(var t,e=a(this.taskItems);!(t=e()).done;){t.value.node.destroy()}this.taskItems=[];for(var s,i=a(this.activeTasks);!(s=i()).done;){var n=s.value,r=m(this.itemPrefab.node);this.container.addChild(r),r.active=!0;var o=r.getComponent(w);o.construct(this,n.id),this.taskItems.push(o),k("spawn task item")}this.claimButton.node.setSiblingIndex(999),this.container.getComponent(g).updateLayout(!0)},r.assignNewTask=function(){this.claimButton.interactable=!1,this.claimButton.getComponent(p).color=h.GRAY;var t=this.tasks.slice().sort((function(){return Math.random()-.5}));this.activeTasks=t.slice(0,2);for(var e,s=a(this.activeTasks);!(e=s()).done;){e.value.resetTask()}T.playerData.tasks=this.activeTasks.map((function(t){return{id:t.id,progress:t.progress}})),T.save(),this.spawnTasksItem(),this.checkCompletion()},e}(v)).prototype,"itemPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(F.prototype,"container",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(F.prototype,"claimButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(F.prototype,"icon",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=F))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/Toast.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,s,r,a,c,l,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Node,c=t.Label,l=t.Vec3,u=t.tween,h=t.Component}],execute:function(){var p,f,d,w,b,v,y,g;s._RF.push({},"71b339l5ZRPHrIzMsuJJ11p","Toast",void 0);var T=r.ccclass,m=r.property;t("Toast",(p=T("Toast"),f=m(a),d=m(c),p(((g=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"toastNode",v,o(e)),i(e,"messageLabel",y,o(e)),e.notifId=0,e.currentTween=null,e}n(e,t);var s=e.prototype;return s.start=function(){e.instance=this},s.onDestroy=function(){e.instance===this&&(e.instance=null)},s.show=function(t){var e=this;this.currentTween&&this.currentTween.stop(),this.notifId++,this.messageLabel.string=t,this.toastNode.setPosition(new l(-200,-300,0)),this.toastNode.active=!0,this.currentTween=u(this.toastNode).to(.3,{position:new l(-200,-260,0),scale:new l(1.03,1.03,1)}).to(.1,{scale:new l(1,1,1)}).call((function(){e.currentTween=null})).start();var n=this.notifId;this.scheduleOnce((function(){n===e.notifId&&e.hide()}),2)},s.hide=function(){this.toastNode.active=!1},e}(h)).instance=null,v=e((b=g).prototype,"toastNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"messageLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/Tooltip.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,i,r,a,l,s,c,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Node,s=n.Label,c=n.UITransform,p=n.Component}],execute:function(){var u,f,h,d,b,m,T,v;r._RF.push({},"e42d338NChPP7qhgnof0TLS","Tooltip",void 0);var y=a.ccclass,g=a.property;n("Tooltip",(u=y("Tooltip"),f=g(l),h=g(s),u(((v=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,o(t,"panel",m,i(t)),o(t,"label",T,i(t)),t.panelUITransform=void 0,t}e(t,n);var r=t.prototype;return r.start=function(){t.instance=this},r.onDestroy=function(){t.instance=null},r.show=function(n,t){var e=n.node,o=e.worldPosition.clone(),i=e.getComponent(c);(this.panelUITransform||(this.panelUITransform=this.panel.getComponent(c)),i)&&(o.x<640?(this.panelUITransform.setAnchorPoint(0,.5),o.add3f(i.width/2+10,0,0)):(this.panelUITransform.setAnchorPoint(1,.5),o.subtract3f(i.width/2+10,0,0)));this.panel.setWorldPosition(o),this.label.string=t,this.panel.active=!0},r.hide=function(){this.panel.active=!1},t}(p)).instance=null,m=t((b=v).prototype,"panel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(b.prototype,"label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/TooltipEnums.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("getTooltipMessage",(function(t){var e=o.get(t);return e||"..."})),e._RF.push({},"63247iOtBtAoJV2qPZK75Ov","TooltipEnums",void 0);var n=t("TooltipKey",function(t){return t[t.EXAMPLE=0]="EXAMPLE",t[t.BELL=1]="BELL",t[t.STATS=2]="STATS",t[t.COINS=3]="COINS",t[t.COIN_MASTER=4]="COIN_MASTER",t[t.TASK=5]="TASK",t}({})),o=new Map([[n.EXAMPLE,"This is an example tooltip"],[n.BELL,"Ring the bell to wake-up coin masters."],[n.STATS,"Your stats and progress."],[n.COINS,"Buy and upgrade coins."],[n.COIN_MASTER,"Hire Coin master and Upgrade Mastery."],[n.TASK,"Complete tasks to earn rewards."]]);e._RF.pop()}}}));

System.register("chunks:///_virtual/TooltipTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tooltip.ts","./TooltipEnums.ts"],(function(t){var e,o,i,n,r,l,s,c,p,u,a,f,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Enum,c=t.Node,p=t.Button,u=t.Component},function(t){a=t.Tooltip},function(t){f=t.TooltipKey,T=t.getTooltipMessage}],execute:function(){var h,y,g,v,d;r._RF.push({},"505eejKmH1JDb7v5OOJxxJe","TooltipTrigger",void 0);var E=l.ccclass,m=l.property;t("TooltipTrigger",(h=E("TooltipTrigger"),y=m({type:s(f)}),h((d=e((v=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"tooltipKey",d,n(e)),e}return o(e,t),e.prototype.start=function(){var t=this,e=!1,o=!1,i=!1;this.node.on(c.EventType.MOUSE_ENTER,(function(){e=!0,t.scheduleOnce((function(){if(0!=e&&!i){var n=a.instance,r=T(t.tooltipKey);null==n||n.show(t,r),o=!0}}),.3)}),this);var n=function(){if(o){var t=a.instance;null==t||t.hide(),o=!1}};this.node.on(c.EventType.MOUSE_LEAVE,(function(){e=!1,i=!1,n()}),this),this.node.on(p.EventType.CLICK,(function(){i=!0,n()}),this)},e}(u)).prototype,"tooltipKey",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(t){var e,n,i,a,o,r,s,p,u,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,s=t._decorator,p=t.Node,u=t.Vec3,c=t.Component},function(t){l=t.default}],execute:function(){var h,d,f,v,S,g,C,y,m;r._RF.push({},"a49bdDGxKBKepHWREuuIH8a","TutorialManager",void 0);var P=s.ccclass,T=s.property;t("TutorialManager",(h=P("TutorialManager"),d=T(p),f=T([p]),v=T(p),h((C=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"tutorialPanel",C,a(e)),i(e,"stepsPanel",y,a(e)),i(e,"handGuideTwo",m,a(e)),e.gameplayManager=null,e.steps=[],e.currentStepIndex=0,e.isTutorialCompleted=!1,e.stepThreeBtnClicked=!1,e.stepFiveBtnClicked=!1,e.stepSixBtnClicked=!1,e}n(e,t);var r=e.prototype;return r.construct=function(t){this.gameplayManager=t,l.playerData.tutorialStep>=7?this.setCompleted():(this.initSteps(),this.tutorialPanel.active=!0,this.currentStepIndex=l.playerData.tutorialStep-1,this.currentStepIndex<0&&(this.currentStepIndex=0),this.steps[this.currentStepIndex]&&this.steps[this.currentStepIndex].onEnter())},r.update=function(t){if(this.gameplayManager&&!this.isTutorialCompleted){var e=this.steps[this.currentStepIndex];e&&(e.onUpdate(),e.checkCondition()&&(e.onFinish(),this.nextStep()))}},r.setCompleted=function(){this.isTutorialCompleted=!0,this.tutorialPanel.active=!1,this.node.active=!1},r.actionStepOne=function(){l.addCoin(0),this.gameplayManager.spawnCoin(0)},r.actionStepTwo=function(){l.upgradeCoin(0)},r.actionStepThree=function(){for(var t,e=o(this.gameplayManager.coins);!(t=e()).done;){t.value.tossAndFlip(!0)}},r.actionStepFour=function(){this.stepThreeBtnClicked=!0},r.actionStepFive=function(){l.buyCoinMaster(),this.gameplayManager.spawnCapybara()},r.actionStepSix=function(){this.stepFiveBtnClicked=!0},r.actionStepSeven=function(){this.stepSixBtnClicked=!0},r.nextStep=function(){this.currentStepIndex++,this.currentStepIndex>=this.steps.length?this.setCompleted():this.steps[this.currentStepIndex].onEnter()},r.getCurrentStep=function(){return this.currentStepIndex},r.isCompleted=function(){return this.isTutorialCompleted},r.initSteps=function(){var t=this;this.steps.push({step:1,onEnter:function(){t.stepsPanel[0].active=!0},onFinish:function(){t.stepsPanel[0].active=!1,l.updateTutorialStep(2)},onUpdate:function(){},checkCondition:function(){return l.playerData.coins.length>0}}),this.steps.push({step:2,onEnter:function(){t.stepsPanel[1].active=!0},onFinish:function(){t.stepsPanel[1].active=!1,l.updateTutorialStep(3)},onUpdate:function(){},checkCondition:function(){return l.playerData.coins[0].level>1}}),this.steps.push({step:3,onEnter:function(){t.stepsPanel[2].active=!0},onFinish:function(){t.stepsPanel[2].active=!1,l.updateTutorialStep(4)},onUpdate:function(){if(t.gameplayManager.coins.length>0){var e=t.gameplayManager.coins[0];t.handGuideTwo.setWorldPosition(e.node.worldPosition.clone().subtract(new u(0,30,0)))}},checkCondition:function(){var t=l.playerData.stats.find((function(t){return"Got head"==t.name}));return!!t&&t.value>0}}),this.steps.push({step:4,onEnter:function(){t.stepsPanel[3].active=!0},onFinish:function(){t.stepsPanel[3].active=!1,l.updateTutorialStep(5)},onUpdate:function(){},checkCondition:function(){var e=l.playerData.coinmasterOwned>0,n=l.playerData.tutorialStep>4;return!!e||(!!n||!!t.stepThreeBtnClicked)}}),this.steps.push({step:5,onEnter:function(){t.stepsPanel[4].active=!0},onFinish:function(){t.stepsPanel[4].active=!1,l.updateTutorialStep(6)},onUpdate:function(){},checkCondition:function(){return!!(l.playerData.coinmasterOwned>0)}}),this.steps.push({step:6,onEnter:function(){t.stepsPanel[5].active=!0},onFinish:function(){t.stepsPanel[5].active=!1,l.updateTutorialStep(7)},onUpdate:function(){},checkCondition:function(){if(t.stepFiveBtnClicked)return!0;var e=l.playerData.stats.find((function(t){return"Coin Master flipped"==t.name}));return!!e&&e.value>=2}}),this.steps.push({step:7,onEnter:function(){t.stepsPanel[6].active=!0},onFinish:function(){t.stepsPanel[6].active=!1,l.updateTutorialStep(8)},onUpdate:function(){},checkCondition:function(){return!!(l.playerData.tutorialStep>7)||!!t.stepSixBtnClicked}})},e}(c)).prototype,"tutorialPanel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(g.prototype,"stepsPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=e(g.prototype,"handGuideTwo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=g))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameManager.ts","./Toast.ts","./SpritesGallery.ts"],(function(e){var t,n,i,a,r,o,u,l,s,d,p,c,m,g,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,u=e.Label,l=e.Sprite,s=e.Button,d=e.log,p=e.Node,c=e.Component},function(e){m=e.Constant},function(e){g=e.default},function(e){b=e.Toast},function(e){h=e.SpritesGallery}],execute:function(){var y,f,v,L,C,B,x,w,E,z,I,N,U,M,T,_,S,P,R;r._RF.push({},"0c018fCxR1B7ay1vOG7j9f5","UpgradeListItem",void 0);var V=o.ccclass,O=o.property;e("UpgradeListItem",(y=V("UpgradeListItem"),f=O(u),v=O(u),L=O(l),C=O(s),B=O(u),x=O(s),w=O(u),E=O(u),y((N=t((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"nameLabel",N,a(t)),i(t,"detailLabel",U,a(t)),i(t,"icon",M,a(t)),i(t,"buyBtn",T,a(t)),i(t,"buyCostLabel",_,a(t)),i(t,"upgradeBtn",S,a(t)),i(t,"upgradeCostLabel",P,a(t)),i(t,"upgradeBonusLabel",R,a(t)),t.item=void 0,t}n(t,e);var r=t.prototype;return r.construct=function(e,t){var n,i=this;this.item=t,this.updateView(),this.icon.spriteFrame=null==(n=h.instance)?void 0:n.getSpriteById("coin-"+(this.item.index+1)),this.buyBtn.node.on(s.EventType.CLICK,(function(){d("Buy "+i.item.name+" Coin");var t,n=g.getPlayerCoins(i.item.index),a=m.getBuyCost(i.item.index,n.amount);g.consumeMoney(a)?(g.addCoin(i.item.index),i.updateView(),e.spawnCoin(i.item.index)):null==(t=b.instance)||t.show("Not enough money.")}),this),this.upgradeBtn.node.on(s.EventType.CLICK,(function(){d("Upgrade "+i.item.name+" Coin");var e,t=g.getPlayerCoins(i.item.index),n=m.getUpgradeCost(i.item.index,t.level+1);g.consumeMoney(n)?(g.upgradeCoin(i.item.index),i.updateView()):null==(e=b.instance)||e.show("Not enough money.")}),this),this.upgradeBtn.node.on(p.EventType.MOUSE_ENTER,(function(){i.upgradeBonusLabel.node.active=!0}),this),this.upgradeBtn.node.on(p.EventType.MOUSE_LEAVE,(function(){i.upgradeBonusLabel.node.active=!1}),this)},r.updateView=function(){var e=g.getPlayerCoins(this.item.index),t=g.getPlayerCoins(this.item.index-1);if(this.item.index>0&&t.amount<=0)this.node.active=!1;else{this.node.active=!0,this.nameLabel.string=this.item.name+" Coin";var n=m.getRevenue(this.item.index,e.level),i=m.getRevenue(this.item.index,e.level+1),a=m.getBuyCost(this.item.index,e.amount),r=m.getUpgradeCost(this.item.index,e.level);this.upgradeBonusLabel.string="+"+m.formatNumber(i-n),this.detailLabel.string="Income: "+m.formatNumber(n)+"\nOwned: "+e.amount,this.buyCostLabel.string="$"+m.formatNumber(a),this.upgradeCostLabel.string="$"+m.formatNumber(r),this.buyBtn.node.active=!1,this.upgradeBtn.node.active=!1,e.amount>0&&(this.upgradeBtn.node.active=!0),e.amount<10&&(this.buyBtn.node.active=!0),e.level>=m.COIN_MAX_LEVEL&&(this.upgradeBtn.interactable=!1,this.upgradeCostLabel.string="Max Level")}},t}(c)).prototype,"nameLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(I.prototype,"detailLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(I.prototype,"icon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(I.prototype,"buyBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(I.prototype,"buyCostLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(I.prototype,"upgradeBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"upgradeCostLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(I.prototype,"upgradeBonusLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=I))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./UpgradeListItem.ts","./GameplayManager.ts","./EventBus.ts"],(function(e){var t,n,a,i,r,o,d,s,u,c,l,p,g,f,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose,o=e.extends},function(e){d=e.cclegacy,s=e._decorator,u=e.Node,c=e.instantiate,l=e.log,p=e.Component},function(e){g=e.Constant},function(e){f=e.UpgradeListItem},function(e){h=e.GameplayManager},function(e){m=e.eventBus}],execute:function(){var v,y,C,b,U,w,M,A,D;d._RF.push({},"8cc0fkgVhRDXrm7CqWs2Fdj","UpgradeManager",void 0);var P=s.ccclass,z=s.property;e("UpgradeManager",(v=P("UpgradeManager"),y=z(h),C=z(f),b=z(u),v((M=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"gameplayManager",M,i(t)),a(t,"itemPrefab",A,i(t)),a(t,"container",D,i(t)),t.items=[],t}n(t,e);var d=t.prototype;return d.start=function(){this.itemPrefab.node.active=!1;for(var e,t=r(g.COIN_GRADES);!(e=t()).done;){var n=e.value,a=c(this.itemPrefab.node);a.active=!0;var i=a.getComponent(f);i&&i.construct(this.gameplayManager,o({},n)),this.container.addChild(a),this.items.push(i)}m.on("coinAdded",this.handleCoinAdded,this),m.on("coinUpgraded",this.handleCoinUpgraded,this)},d.onDestroy=function(){m.off("coinAdded",this.handleCoinAdded,this),m.off("coinUpgraded",this.handleCoinUpgraded,this)},d.handleCoinAdded=function(){this.updateViews(),l("Coin added, updating views.")},d.handleCoinUpgraded=function(){this.updateViews(),l("Coin upgraded, updating views.")},d.updateViews=function(){for(var e,t=r(this.items);!(e=t()).done;){e.value.updateView()}},t}(p)).prototype,"gameplayManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(w.prototype,"itemPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"container",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=w))||U));d._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});